<div class="change-container">
    <div class="change-card">
        <h2>Đổi mật khẩu</h2>
        <p>Nhập mật khẩu hiện tại và mật khẩu mới.</p>

        <form [formGroup]="form" (ngSubmit)="submit()" class="change-form">
            <div class="form-group">
                <label for="currentPassword">Mật khẩu hiện tại</label>
                <input id="currentPassword" type="password" formControlName="currentPassword" class="form-input" />
                <div *ngIf="form.get('currentPassword')?.touched && form.get('currentPassword')?.invalid"
                    class="error-message">
                    <span *ngIf="form.get('currentPassword')?.errors?.['required']">Mật khẩu hiện tại không được để
                        trống</span>
                    <span *ngIf="form.get('currentPassword')?.errors?.['minlength']">Phải có ít nhất 6 ký tự</span>
                </div>
            </div>

            <div class="form-group">
                <label for="newPassword">Mật khẩu mới</label>
                <input id="newPassword" type="password" formControlName="newPassword" class="form-input" />
                <div *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.invalid" class="error-message">
                    <span *ngIf="form.get('newPassword')?.errors?.['required']">Mật khẩu mới không được để trống</span>
                    <span *ngIf="form.get('newPassword')?.errors?.['minlength']">Phải có ít nhất 6 ký tự</span>
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">Xác nhận mật khẩu mới</label>
                <input id="confirmPassword" type="password" formControlName="confirmPassword" class="form-input" />
                <div *ngIf="form.errors?.['mismatch'] && form.get('confirmPassword')?.touched" class="error-message">
                    Mật khẩu xác nhận không khớp
                </div>
            </div>

            <div class="actions">
                <button type="submit" class="btn primary" [disabled]="isSubmitting()">
                    <span *ngIf="isSubmitting()">Đang xử lý...</span>
                    <span *ngIf="!isSubmitting()">Đổi mật khẩu</span>
                </button>
            </div>

            <div *ngIf="message()" class="info-message">{{ message() }}</div>
        </form>
    </div>
</div>