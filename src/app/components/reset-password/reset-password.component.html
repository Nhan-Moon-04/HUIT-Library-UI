<div class="reset-container">
    <div class="overlay"></div>
    <div class="reset-card">
        <h2>Đặt lại mật khẩu</h2>
        <p *ngIf="!token()">Liên kết không hợp lệ hoặc đã hết hạn. Bạn có thể dán mã token ở ô dưới nếu có.</p>
        <p *ngIf="token()">Nhập mật khẩu mới cho tài khoản của bạn.</p>



        <form *ngIf="token()" [formGroup]="form" (ngSubmit)="submit()" class="reset-form">
            <div class="form-group">
                <label for="newPassword">Mật khẩu mới</label>
                <input id="newPassword" type="password" formControlName="newPassword" class="form-input" />
                <div *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.invalid" class="error-message">
                    <span *ngIf="form.get('newPassword')?.errors?.['required']">Mật khẩu mới không được để trống</span>
                    <span *ngIf="form.get('newPassword')?.errors?.['minlength']">Phải có ít nhất 6 ký tự</span>
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">Xác nhận mật khẩu</label>
                <input id="confirmPassword" type="password" formControlName="confirmPassword" class="form-input" />
            </div>

            <div class="actions">
                <button type="submit" class="btn primary" [disabled]="isSubmitting()">{{ isSubmitting() ? 'Đang xử
                    lý...' : 'Đặt lại mật khẩu' }}</button>
            </div>

            <div *ngIf="message()" class="info-message">{{ message() }}</div>
        </form>

        <div *ngIf="!token()" class="actions">
            <a routerLink="/forgot-password" class="link">Gửi lại yêu cầu</a>
        </div>
    </div>
</div>